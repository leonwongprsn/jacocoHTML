<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>Controller.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">PopNames3111</a> &gt; <a href="index.source.html" class="el_package">comp3111.popnames</a> &gt; <span class="el_source">Controller.java</span></div><h1>Controller.java</h1><pre class="source lang-java linenums">/**
 * Building on the sample skeleton for 'ui.fxml' COntroller Class generated by SceneBuilder 
 */
package comp3111.popnames;

import java.util.Random;

import javafx.fxml.FXML;
import javafx.scene.control.Button;
import javafx.scene.control.RadioButton;
import javafx.scene.control.Tab;
import javafx.scene.control.TextArea;
import javafx.scene.control.TextField;
import javafx.scene.control.ToggleGroup;
import javafx.scene.text.Font;

<span class="fc" id="L17">public class Controller {</span>

    @FXML
    private Tab tabTaskZero;

    @FXML
    private TextField textfieldNameF;

    @FXML
    private TextField textfieldYear;

    @FXML
    private Button buttonRankM;

    @FXML
    private TextField textfieldNameM;

    @FXML
    private Button buttonRankF;

    @FXML
    private Button buttonTopM;

    @FXML
    private Button buttonTopF;

    @FXML
    private Button buttonSummary;
    
    @FXML
    private Tab tabReport1;

    @FXML
    private ToggleGroup T1;

    @FXML
    private Tab tabReport2;

    @FXML
    private ToggleGroup T11;

    @FXML
    private Tab tabReport3;

    @FXML
    private ToggleGroup T111;

    @FXML
    private Tab tabApp1;

    @FXML
    private Tab tabApp2;

    @FXML
    private Tab tabApp3;

    @FXML
    private TextArea textAreaConsole;
    
    //Task 1
    @FXML
    private TextField tfPeriodEndR1;
    
    @FXML
    private TextField tfPeriodStartR1;
    
    @FXML
    private Button btnReport1;
    
    @FXML 
    private TextField tfTopNR1; 
    
    @FXML
    private RadioButton rbMaleR1;
    
    @FXML
    private RadioButton rbFemaleR1;
    //End Task 1

    //Task 2
    @FXML
    private TextField textfieldNameT2;
    
    @FXML
    private TextField textfieldYearFromT2;
    
    @FXML
    private TextField textfieldYearToT2;
    
    @FXML
    private RadioButton radiobuttonMT2;
    
    @FXML
    private RadioButton radiobuttonFT2;
    
    @FXML
    private Button buttonT2;
    //End Task 2
    
    //Task 3A    
    @FXML
    private TextField tfTopNR3;
    
    @FXML
    private TextField tfPeriodStartR3;
    
    @FXML
    private TextField tfPeriodEndR3;
    
    @FXML
    private Button btnReport3;
    
    @FXML
    private RadioButton rbMaleR3;
    
    @FXML
    private RadioButton rbFemaleR3;
    //End Task 3A
    
    //Task 4
    @FXML
    private TextField tfDadNameA1;
    @FXML
    private TextField tfMumNameA1;
    @FXML
    private TextField tfDadYobA1;
    @FXML
    private TextField tfMumYobA1;
    @FXML
    private TextField tfVYearA1;
    @FXML
    private Button btnAppOne;
    //End Task 4
    
  //Task 5
    @FXML
    private ToggleGroup T51;
    
    @FXML
    private ToggleGroup T52;
    
    @FXML
    private ToggleGroup T53;
    
    @FXML
    private TextField textfieldNameT5;
    
    @FXML
    private TextField textfieldYearT5;
    
    @FXML
    private RadioButton radiobuttonMT51;
    
    @FXML
    private RadioButton radiobuttonFT51;
    
    @FXML
    private RadioButton radiobuttonMT52;
    
    @FXML
    private RadioButton radiobuttonFT52;
    
    @FXML
    private RadioButton radiobuttonYT5;
    
    @FXML
    private RadioButton radiobuttonOT5;
    
    @FXML
    private Button buttonT5;  
    
<span class="fc" id="L188">	enum Zodiac {</span>
<span class="fc" id="L189">		  Dragon,</span>
<span class="fc" id="L190">		  Snake,</span>
<span class="fc" id="L191">		  Horse,</span>
<span class="fc" id="L192">		  Sheep,</span>
<span class="fc" id="L193">		  Monkey,</span>
<span class="fc" id="L194">		  Rooster,</span>
<span class="fc" id="L195">		  Dog,</span>
<span class="fc" id="L196">		  Pig,</span>
<span class="fc" id="L197">		  Rat,</span>
<span class="fc" id="L198">		  Ox,</span>
<span class="fc" id="L199">		  Tiger,</span>
<span class="fc" id="L200">		  Rabbit,</span>
	}
    //End Task 5

	//Task 6    
	@FXML
	private TextField tfNameA3;
	
	@FXML
	private TextField tfPref_NameA3;

	@FXML
	private TextField tfyobA3;

	@FXML
	private Button btnApplication3;

	@FXML
	private RadioButton rbMaleA3;

	@FXML
	private RadioButton rbFemaleA3;
	
	@FXML
	private RadioButton rbPref_MaleA3;

	@FXML
	private RadioButton rbPref_FemaleA3;
	
	@FXML
	private RadioButton rbYoungerA3;

	@FXML
	private RadioButton rbOlderA3;
	//End Task 6
	
    /**
     *  Task Zero
     *  To be triggered by the &quot;Summary&quot; button on the Task Zero Tab 
     *  
     */
    @FXML
    void doSummary() {
<span class="fc" id="L243">    	int year = Integer.parseInt(textfieldYear.getText());</span>
<span class="fc" id="L244">    	String oReport = AnalyzeNames.getSummary(year);</span>
<span class="fc" id="L245">    	textAreaConsole.setText(oReport);</span>
<span class="fc" id="L246">    }</span>

  
    /**
     *  Task Zero
     *  To be triggered by the &quot;Rank (female)&quot; button on the Task Zero Tab
     *  
     */
    @FXML
    void doRankF() {
<span class="fc" id="L256">    	String oReport = &quot;&quot;;</span>
<span class="fc" id="L257">    	String iNameF = textfieldNameF.getText();</span>
<span class="fc" id="L258">    	int iYear = Integer.parseInt(textfieldYear.getText());</span>
<span class="fc" id="L259">    	int oRank = AnalyzeNames.getRank(iYear, iNameF, &quot;F&quot;);</span>
<span class="fc bfc" id="L260" title="All 2 branches covered.">    	if (oRank == -1)</span>
<span class="fc" id="L261">    		oReport = String.format(&quot;The name %s (female) has not been ranked in the year %d.\n&quot;, iNameF, iYear);</span>
    	else
<span class="fc" id="L263">    		oReport = String.format(&quot;Rank of %s (female) in year %d is #%d.\n&quot;, iNameF, iYear, oRank);</span>
<span class="fc" id="L264">    	textAreaConsole.setText(oReport);</span>
<span class="fc" id="L265">    }</span>

  
    /**
     *  Task Zero
     *  To be triggered by the &quot;Rank (male)&quot; button on the Task Zero Tab
     *  
     */
    @FXML
    void doRankM() {
<span class="fc" id="L275">    	String oReport = &quot;&quot;;</span>
<span class="fc" id="L276">    	String iNameM = textfieldNameM.getText();</span>
<span class="fc" id="L277">    	int iYear = Integer.parseInt(textfieldYear.getText());</span>
<span class="fc" id="L278">    	int oRank = AnalyzeNames.getRank(iYear, iNameM, &quot;M&quot;);</span>
<span class="fc bfc" id="L279" title="All 2 branches covered.">    	if (oRank == -1)</span>
<span class="fc" id="L280">    		oReport = String.format(&quot;The name %s (male) has not been ranked in the year %d.\n&quot;, iNameM, iYear);</span>
    	else
<span class="fc" id="L282">    		oReport = String.format(&quot;Rank of %s (male) in year %d is #%d.\n&quot;, iNameM, iYear, oRank);</span>
<span class="fc" id="L283">    	textAreaConsole.setText(oReport);</span>
<span class="fc" id="L284">    }</span>


    /**
     *  Task Zero
     *  To be triggered by the &quot;Top 5 (female)&quot; button on the Task Zero Tab
     *  
     */
    @FXML
    void doTopF() {
<span class="fc" id="L294">    	String oReport = &quot;&quot;;</span>
<span class="fc" id="L295">    	final int topN = 5;</span>
<span class="fc" id="L296">    	int iYear = Integer.parseInt(textfieldYear.getText());</span>
<span class="fc" id="L297">    	oReport = String.format(&quot;Top %d most popular names (female) in the year %d:\n&quot;, topN, iYear);</span>
<span class="fc bfc" id="L298" title="All 2 branches covered.">    	for (int i=1; i&lt;=topN; i++)</span>
<span class="fc" id="L299">    		oReport += String.format(&quot;#%d: %s\n&quot;, i, AnalyzeNames.getName(iYear, i, &quot;F&quot;));</span>
<span class="fc" id="L300">    	textAreaConsole.setText(oReport);</span>
<span class="fc" id="L301">    }</span>


    /**
     *  Task Zero
     *  To be triggered by the &quot;Top 5 (male)&quot; button on the Task Zero Tab
     *  
     */
    @FXML
    void doTopM() {
<span class="fc" id="L311">    	String oReport = &quot;&quot;;</span>
<span class="fc" id="L312">    	final int topN = 5;</span>
<span class="fc" id="L313">    	int iYear = Integer.parseInt(textfieldYear.getText());</span>
<span class="fc" id="L314">    	oReport = String.format(&quot;Top %d most popular names (male) in the year %d:\n&quot;, topN, iYear);</span>
<span class="fc bfc" id="L315" title="All 2 branches covered.">    	for (int i=1; i&lt;=topN; i++)</span>
<span class="fc" id="L316">    		oReport += String.format(&quot;#%d: %s\n&quot;, i, AnalyzeNames.getName(iYear, i, &quot;M&quot;));</span>
<span class="fc" id="L317">    	textAreaConsole.setText(oReport);</span>
    	
<span class="fc" id="L319">    }</span>
    
    /**
     *  Task One
     *  To be triggered by the &quot;Report&quot; button on the Task One Tab
     *  
     */
    @FXML
    void doReport1() {
<span class="fc" id="L328">    	Report reportOne = new Report();</span>
<span class="fc" id="L329">    	boolean isInputEmpty = false;</span>
<span class="fc" id="L330">    	boolean isInputValid = true;</span>
<span class="fc" id="L331">    	String oReport = &quot;&quot;;</span>
<span class="fc" id="L332">    	int topN = 0;</span>
<span class="fc" id="L333">    	int periodStart = 0;</span>
<span class="fc" id="L334">    	int periodEnd = 0;</span>
<span class="fc" id="L335">    	String gender = &quot;&quot;;</span>
    	
<span class="pc bpc" id="L337" title="1 of 2 branches missed.">    	if (tfTopNR1.getText().isBlank()) {</span>
<span class="nc" id="L338">			oReport += &quot;Error: TopN cannot be empty.\n&quot;;isInputEmpty =true;</span>
		}
    	
<span class="pc bpc" id="L341" title="2 of 4 branches missed.">    	if (tfPeriodEndR1.getText().isBlank() || tfPeriodStartR1.getText().isBlank()) {</span>
<span class="nc" id="L342">			oReport += &quot;Error: Period cannot be empty.\n&quot;;isInputEmpty =true;</span>
		}
    	
    	//Convert data to required type only if input is not empty.
<span class="pc bpc" id="L346" title="1 of 2 branches missed.">    	if (isInputEmpty == true) {</span>
<span class="nc" id="L347">    		oReport += &quot;Please enter again, no input should be empty.\n&quot;;</span>
<span class="nc" id="L348">        	textAreaConsole.setText(oReport);</span>
<span class="nc" id="L349">			return ;</span>
		} else {
<span class="fc" id="L351">    		topN = Integer.parseInt(tfTopNR1.getText()); </span>
<span class="fc" id="L352">        	periodStart = Integer.parseInt(tfPeriodStartR1.getText());</span>
<span class="fc" id="L353">        	periodEnd = Integer.parseInt(tfPeriodEndR1.getText());</span>
<span class="pc bpc" id="L354" title="1 of 2 branches missed.">        	if (rbMaleR1.isSelected()) {</span>
<span class="fc" id="L355">    			gender = &quot;M&quot;;</span>
    		} else {
<span class="nc" id="L357">    			gender = &quot;F&quot;;</span>
    		}
		}
    	

<span class="pc bpc" id="L362" title="4 of 8 branches missed.">    	if (periodStart &lt; 1880 || periodStart &gt; 2019 || periodEnd &lt; 1880 || periodEnd &gt; 2019) {</span>
<span class="nc" id="L363">			oReport += &quot;Error: Input period is out of range, Please enter a value betwween 1880-2019.\n&quot;;</span>
<span class="nc" id="L364">			isInputValid = false;</span>
<span class="nc" id="L365">			textAreaConsole.setText(oReport);</span>
<span class="nc" id="L366">			return;</span>
		}
<span class="pc bpc" id="L368" title="1 of 2 branches missed.">    	if (periodStart &gt; periodEnd) {</span>
<span class="nc" id="L369">			isInputValid = false;</span>
<span class="nc" id="L370">			oReport += &quot;Error: The starting year should be earlier than the ending year.&quot;;</span>
<span class="nc" id="L371">			textAreaConsole.setText(oReport);</span>
<span class="nc" id="L372">			return;</span>
		}
<span class="fc" id="L374">    	int maxNumName[] = reportOne.getNumberOfName(periodStart, periodEnd,gender);</span>
<span class="pc bpc" id="L375" title="1 of 2 branches missed.">    	if (topN &lt;= 0) {</span>
<span class="nc" id="L376">			oReport += &quot;Error: Top N is invalid, N should be &gt;=1.\n&quot;; </span>
<span class="nc" id="L377">			isInputValid = false;</span>
<span class="pc bpc" id="L378" title="1 of 2 branches missed.">		} else if (topN &gt; maxNumName[0]){</span>
<span class="nc" id="L379">			oReport += &quot;Error: Top N is invalid, N is out of range.\n&quot;;</span>
<span class="nc" id="L380">			oReport += String.format(&quot;In %s, there are only %s names available for gender : %s\nwhich means %s has the least total number of names in the period of %s to %s.\n&quot;,maxNumName[1],maxNumName[0],gender,maxNumName[1],periodStart,periodEnd);</span>
<span class="nc" id="L381">			oReport += &quot;So the system can at most get the Top &quot; + maxNumName[0] +&quot; names for you. Please enter a smaller value.\n&quot;;</span>
<span class="nc" id="L382">			isInputValid = false;</span>
		}
    	
    	//get report only if input is valid.
<span class="pc bpc" id="L386" title="1 of 2 branches missed.">    	if (isInputValid) {</span>
<span class="fc" id="L387">    		textAreaConsole.setText(&quot;Calculating Please Wait :]&quot;);</span>
<span class="fc" id="L388">    		oReport += reportOne.getTopSpotSummary(periodStart, periodEnd, topN, gender);</span>
<span class="fc" id="L389">    		oReport += reportOne.getReportOne(periodStart, periodEnd, topN,gender);</span>
		} else {
<span class="nc" id="L391">			oReport += &quot;\nThe input is invalid please check and enter again.&quot;;</span>
		}

<span class="fc" id="L394">    	textAreaConsole.setText(oReport);</span>
    	

<span class="fc" id="L397">    }</span>

    /**  Task 2
    *  To be triggered by the &quot;Report&quot; button on the Task 2 Tab
    *  
    */
   @FXML
   void doTask2() {
<span class="fc" id="L405">   		String oReport = &quot;&quot;;</span>
<span class="fc" id="L406">   		String gender = &quot;F&quot;;</span>
<span class="fc" id="L407">   		String name = textfieldNameT2.getText();</span>
<span class="pc bpc" id="L408" title="1 of 2 branches missed.">   		if(radiobuttonMT2.isSelected())</span>
<span class="fc" id="L409">   			gender = &quot;M&quot;;</span>
<span class="pc bpc" id="L410" title="1 of 4 branches missed.">   		if(textfieldYearFromT2.getText().isEmpty()||textfieldYearToT2.getText().isEmpty()) {</span>
<span class="fc" id="L411">   			textAreaConsole.setText(&quot;Your input cannot be empty. Please Enter again.&quot;);</span>
<span class="fc" id="L412">   			return;</span>
   		}
<span class="fc" id="L414">   		int YFrom = Integer.parseInt(textfieldYearFromT2.getText());</span>
<span class="fc" id="L415">   		int YTo = Integer.parseInt(textfieldYearToT2.getText());</span>
<span class="pc bpc" id="L416" title="1 of 4 branches missed.">   		if(YFrom &lt; 1880 || YTo &gt; 2019) {</span>
<span class="fc" id="L417">   			textAreaConsole.setText(&quot;Input \&quot;Period (1880 - 2019): \&quot; Out Of Range\nPlease enter the year within 1880 - 2019 again.&quot;);</span>
<span class="fc" id="L418">   			return;</span>
   		}
<span class="fc bfc" id="L420" title="All 2 branches covered.">   		if(YFrom &gt; YTo) {</span>
<span class="fc" id="L421">   			textAreaConsole.setText(&quot;Input  \&quot;Period (1880 - 2019): \&quot; Invalid\nPlease enter again.&quot;);</span>
<span class="fc" id="L422">   			return;</span>
   		}
<span class="fc" id="L424">   		int pYear =  AnalyzeNames.getPopularYear(YFrom, YTo, name, gender);</span>
<span class="fc" id="L425">   		oReport = String.format(&quot;The Table Below Shows the Popularity of \&quot;%s\&quot; %s from %d to %d:\n\n&quot;</span>
   												+ &quot;===============================================================\n&quot;
								   				+ &quot;|%-10s%10s%20s%21s|\n&quot;,
<span class="fc" id="L428">								   				gender, name, YFrom, YTo,</span>
								   				&quot;Year&quot;, &quot;Rank&quot;, &quot;Count&quot;, &quot;Percentage &quot;);
<span class="fc bfc" id="L430" title="All 2 branches covered.">   		for(int i = YFrom;i &lt;= YTo;i++) {</span>
<span class="fc bfc" id="L431" title="All 2 branches covered.">   			if(AnalyzeNames.getCount(i, name, gender) == -1)</span>
<span class="fc" id="L432">   				oReport+= String.format(&quot;|%-10s%10s%20s%21s|\n&quot;, i, &quot;N/A&quot;, &quot;N/A&quot;, &quot;N/A &quot;);</span>
   			else
<span class="fc" id="L434">   				oReport += String.format(&quot;|%-10s%10s%20s%20.5f%%|\n&quot;,</span>
<span class="fc" id="L435">   						i, AnalyzeNames.getRank(i, name, gender), AnalyzeNames.getCount(i, name, gender), Double.valueOf(AnalyzeNames.getPercentage(i, name, gender)));</span>
   		}
<span class="fc" id="L437">   		oReport += &quot;===============================================================\n&quot;;</span>
<span class="fc bfc" id="L438" title="All 2 branches covered.">   		if(pYear != -1) {</span>
<span class="fc" id="L439">	   		oReport += String.format(&quot;\nSummary:\nIn the year %d, the number of birth with name %s is %d, &quot;</span>
									   				+ &quot;which represents %.5f\npercent of total %s births in %d. &quot;
									   				+ &quot;The year when the name %s was most popular is %d.\n&quot;
									   				+ &quot;In that year, the number of births is %d, which represents %.5f percent of the\ntotal %s birth in %d.&quot;,
<span class="fc" id="L443">									   				YTo, name, AnalyzeNames.getCount(YTo, name, gender),</span>
<span class="fc" id="L444">									   				AnalyzeNames.getPercentage(YTo, name, gender), gender, YTo,</span>
<span class="fc" id="L445">									   				name, pYear,</span>
<span class="fc" id="L446">									   				AnalyzeNames.getCount(pYear, name, gender),  AnalyzeNames.getPercentage(pYear, name, gender), gender, pYear);</span>
   		}
   		else {
<span class="fc" id="L449">   			oReport += String.format(&quot;\nSummary:\nThe name \&quot;%s\&quot; was not found from %d - %d.&quot;, name, YFrom, YTo);</span>
   		}
<span class="fc" id="L451">   		textAreaConsole.setText(oReport);</span>
<span class="fc" id="L452">   }</span>
    
   /**  Task 3A
    *  To be triggered by the &quot;Report&quot; button on the Task 3A Tab
    *  
    */
   @FXML
   void doReport3A() {
	   
<span class="fc" id="L461">	   String oReport = &quot;&quot;;</span>
<span class="fc" id="L462">	   boolean isInputEmpty = false;</span>
<span class="fc" id="L463">	   boolean isInputValid = true;</span>
<span class="fc" id="L464">	   int period_start = 0;</span>
<span class="fc" id="L465">	   int period_end = 0;</span>
<span class="fc" id="L466">	   int top_number = 0;</span>
<span class="fc" id="L467">	   String gender = &quot;&quot;;</span>
<span class="fc" id="L468">	   Report report_three = new Report();</span>

<span class="pc bpc" id="L470" title="1 of 2 branches missed.">	   if (tfTopNR3.getText().isBlank()) {</span>
<span class="nc" id="L471">		   oReport += &quot;Error: N cannot be empty.\n&quot;;</span>
<span class="nc" id="L472">		   isInputEmpty =true;</span>
	   }

<span class="pc bpc" id="L475" title="2 of 4 branches missed.">	   if (tfPeriodEndR3.getText().isBlank() || tfPeriodStartR3.getText().isBlank()) {</span>
<span class="nc" id="L476">		   oReport += &quot;Error: Period cannot be empty.\n&quot;;</span>
<span class="nc" id="L477">		   isInputEmpty =true;</span>
	   }

<span class="pc bpc" id="L480" title="1 of 2 branches missed.">	   if (isInputEmpty == true) {</span>
<span class="nc" id="L481">		   oReport += &quot;Please enter again, no input should be empty.\n&quot;;</span>
<span class="nc" id="L482">		   textAreaConsole.setText(oReport);</span>
<span class="nc" id="L483">		   return ;</span>
	   } else {
<span class="fc" id="L485">		   period_start = Integer.parseInt(tfPeriodStartR3.getText());</span>
<span class="fc" id="L486">		   period_end = Integer.parseInt(tfPeriodEndR3.getText());</span>
<span class="fc" id="L487">		   top_number = Integer.parseInt(tfTopNR3.getText());</span>
<span class="pc bpc" id="L488" title="1 of 2 branches missed.">		   if (rbMaleR3.isSelected()) {</span>
<span class="fc" id="L489">				gender = &quot;M&quot;;</span>
		   } else {
<span class="nc" id="L491">				gender = &quot;F&quot;;</span>
		   }
	   }

<span class="pc bpc" id="L495" title="4 of 8 branches missed.">	   if (period_start &lt; 1880 || period_start &gt; 2019 || period_end &lt; 1880 || period_end &gt; 2019) {</span>
<span class="nc" id="L496">		   oReport += &quot;Error: Input period is out of range, please enter a value between 1880-2019 inclusively.\n&quot;;</span>
<span class="nc" id="L497">		   textAreaConsole.setText(oReport);</span>
<span class="nc" id="L498">		   return;</span>
	   }
<span class="pc bpc" id="L500" title="1 of 2 branches missed.">	   if (period_start &gt; period_end) {</span>
<span class="nc" id="L501">		   oReport += &quot;Error: The starting year should be earlier than the ending year.&quot;;</span>
<span class="nc" id="L502">		   textAreaConsole.setText(oReport);</span>
<span class="nc" id="L503">		   return;</span>
	   }
	   
<span class="fc" id="L506">	   int maxNumName[] = report_three.getNumberOfName(period_start, period_end, gender);</span>
<span class="pc bpc" id="L507" title="1 of 2 branches missed.">	   if (top_number &lt;= 0) {</span>
<span class="nc" id="L508">		   oReport += &quot;Error: N is invalid, N should be bigger than or equal to 1.\n&quot;; </span>
<span class="nc" id="L509">		   isInputValid = false;</span>
<span class="pc bpc" id="L510" title="1 of 2 branches missed.">	   } else if (top_number &gt; maxNumName[0]){</span>
<span class="nc" id="L511">		   oReport += &quot;Error: N is invalid, N is out of range.\n&quot;;</span>
<span class="nc" id="L512">		   oReport += String.format(&quot;There are only %s names available in %s, which is the least number &quot;</span>
<span class="nc" id="L513">		   		+ &quot;of names in a year in the period of %s to %s.\n&quot;, maxNumName[0],maxNumName[1],period_start,period_end);</span>
<span class="nc" id="L514">		   oReport += &quot;The system can at most get the top &quot; + maxNumName[0] +&quot; names for you. Please enter a smaller value of N.\n&quot;;</span>
<span class="nc" id="L515">		   isInputValid = false;</span>
	   }

<span class="pc bpc" id="L518" title="1 of 2 branches missed.">	   if (isInputValid == true) {</span>
<span class="fc" id="L519">		   oReport = AnalyzeNames.getReport3A(period_start, period_end, gender, top_number);		   </span>
	   } else {
<span class="nc" id="L521">		   oReport += &quot;The input is invalid please check and enter again.&quot;;</span>
	   }
<span class="fc" id="L523">	   textAreaConsole.setText(oReport);</span>
<span class="fc" id="L524">   }</span>
   
   
   /**
    * Task 4 Application
    * To be triggered by the &quot;Get Recommendation&quot; button on the Task 4 Tab
    */
   @FXML
   void getChildName() {
<span class="fc" id="L533">	   boolean isInputEmpty = false;</span>
<span class="fc" id="L534">	   boolean isInputValid = true;</span>
<span class="fc" id="L535">	   String oReport = &quot;&quot;;</span>
	   
<span class="pc bpc" id="L537" title="2 of 4 branches missed.">	   if (tfDadNameA1.getText().isBlank() || tfMumNameA1.getText().isBlank() || </span>
<span class="pc bpc" id="L538" title="2 of 4 branches missed.">			   tfDadYobA1.getText().isBlank() || tfMumYobA1.getText().isBlank()  ) {</span>
<span class="nc" id="L539">		isInputEmpty = true; </span>
<span class="nc" id="L540">		oReport += &quot;No Input except Vintage Year can be empty, Please enter all the input needed.\n&quot;;</span>
<span class="nc" id="L541">		textAreaConsole.setText(oReport);</span>
<span class="nc" id="L542">		return;</span>
	   }
	   
<span class="fc" id="L545">	   String dadNameString = tfDadNameA1.getText();</span>
<span class="fc" id="L546">	   String mumNameString = tfMumNameA1.getText();</span>
<span class="fc" id="L547">	   int dadYob = Integer.parseInt(tfDadYobA1.getText());</span>
<span class="fc" id="L548">	   int mumYob = Integer.parseInt(tfMumYobA1.getText());</span>
<span class="fc" id="L549">	   int vintageYear = -1;</span>
	   
<span class="pc bpc" id="L551" title="1 of 2 branches missed.">	   if (tfVYearA1.getText().isBlank() == true) {</span>
<span class="fc" id="L552">		   vintageYear = 2019;</span>
	   } else {
<span class="nc" id="L554">		   vintageYear = Integer.parseInt(tfVYearA1.getText());</span>
	   }
	   
<span class="pc bpc" id="L557" title="2 of 4 branches missed.">	   if (vintageYear &lt; 1880 || vintageYear &gt; 2019) {</span>
<span class="nc" id="L558">		   oReport += &quot;Please enter the Vintage Year within the range of 1880 to 2019 or leave it empty.\n&quot;;</span>
<span class="nc" id="L559">		   isInputValid = false;</span>
	   }
	   
<span class="pc bpc" id="L562" title="2 of 4 branches missed.">	   if (dadYob &lt; 1880 || dadYob &gt; 2019) {</span>
<span class="nc" id="L563">		   oReport += &quot;Please enter the Dad's year of birth within the range of 1880 to 2019.\n&quot;;</span>
<span class="nc" id="L564">		   isInputValid = false;</span>
	   }
<span class="pc bpc" id="L566" title="2 of 4 branches missed.">	   if (mumYob &lt; 1880 || mumYob &gt; 2019) {</span>
<span class="nc" id="L567">		   oReport += &quot;Please enter the Mum's year of birth within the range of 1880 to 2019.\n&quot;;</span>
<span class="nc" id="L568">		   isInputValid = false;</span>
	   }
	   
<span class="pc bpc" id="L571" title="1 of 2 branches missed.">	   if (isInputValid == false) {</span>
<span class="nc" id="L572">		   textAreaConsole.setText(oReport);</span>
<span class="nc" id="L573">		   return;</span>
	   }
	   
	   
<span class="fc" id="L577">	   AnalyzeNames analyzeNames = new AnalyzeNames();</span>
<span class="fc" id="L578">	   int dadRank = analyzeNames.getRank(dadYob, dadNameString, &quot;M&quot;);</span>
<span class="fc" id="L579">	   int mumRank = analyzeNames.getRank(mumYob, mumNameString, &quot;F&quot;);</span>
<span class="fc" id="L580">	   boolean isDadRankFound = true;</span>
<span class="fc" id="L581">	   boolean isMumRankFound = true;</span>
<span class="pc bpc" id="L582" title="1 of 2 branches missed.">	   if (dadRank == -1) {</span>
<span class="nc" id="L583">		   isDadRankFound = false;</span>
<span class="nc" id="L584">		dadRank = 1;</span>
	   }
<span class="pc bpc" id="L586" title="1 of 2 branches missed.">	   if (mumRank == -1) {</span>
<span class="nc" id="L587">		   isMumRankFound = false;</span>
<span class="nc" id="L588">		mumRank = 1;</span>
	   }
	   
<span class="fc" id="L591">	   String boyNameString = analyzeNames.getName(vintageYear, dadRank, &quot;M&quot;);</span>
<span class="fc" id="L592">	   String girlNameString = analyzeNames.getName(vintageYear, mumRank, &quot;F&quot;);</span>
<span class="fc" id="L593">	   oReport += String.format(&quot;*** Recommended Boy name for newborn babies is %s! ***\nThis is because %s is the No.%s name in vintage year(%s)\nand No.%s is the the rank of Dad's name in his year of birth(%s)!\n\n&quot;, boyNameString, boyNameString,dadRank,vintageYear,dadRank,dadYob);</span>
<span class="pc bpc" id="L594" title="1 of 2 branches missed.">	   if (!isDadRankFound) {</span>
<span class="nc" id="L595">		   oReport += String.format(&quot;Remark:\nThe rank of Dad's name(%s) cannot be found in his year of birth(%s),\nso the rank set to 1 by the system.\n\n&quot;, dadNameString, dadYob);</span>
	   } else {
		   //oReport += String.format(&quot;The rank of Mad's name(%s) in his year of birth(%s) is %s .\n\n&quot;, dadNameString, dadYob,dadRank);
	   }

<span class="fc" id="L600">	   oReport += String.format(&quot;*** Recommended Girl name for newborn babies is %s! ***\nThis is because %s is the No.%s name in vintage year(%s)\nand No.%s is the the rank of Mum's name in her year of birth(%s)!\n\n&quot;, girlNameString, girlNameString,mumRank,vintageYear,mumRank,mumYob);</span>
<span class="pc bpc" id="L601" title="1 of 2 branches missed.">	   if (!isMumRankFound) {</span>
<span class="nc" id="L602">		   oReport += String.format(&quot;Remark:\nThe rank of Mum's name(%s) cannot be found in her year of birth(%s),\nso the rank is set to 1 by the system.\n\n&quot;, mumNameString, dadYob);</span>
	   } else {
		   //oReport += String.format(&quot;The rank of Mum's name(%s) in her year of birth(%s) is %s .\n\n&quot;, mumNameString, mumYob,mumRank);
	   }
<span class="fc" id="L606">	   textAreaConsole.setText(oReport);</span>
<span class="fc" id="L607">   }</span>

	/**  Task 5
	 *  To be triggered by the &quot;Go&quot; button on the Task 5 Tab
	 *  
	 */
	@FXML
	void doTask5() {
<span class="fc" id="L615">		String oReport = &quot;&quot;;</span>
<span class="fc" id="L616">   		String iName = textfieldNameT5.getText();</span>
<span class="fc bfc" id="L617" title="All 2 branches covered.">   		String iGender = radiobuttonMT51.isSelected() ? &quot;M&quot; : &quot;F&quot;;</span>
<span class="pc bpc" id="L618" title="1 of 2 branches missed.">   		String oGender = radiobuttonMT52.isSelected() ? &quot;M&quot; : &quot;F&quot;;</span>
<span class="pc bpc" id="L619" title="1 of 2 branches missed.">   		String oGen = oGender==&quot;M&quot; ? &quot;Male&quot; : &quot;Female&quot;;</span>
<span class="pc bpc" id="L620" title="1 of 4 branches missed.">   		if(textfieldNameT5.getText().isEmpty()||textfieldYearT5.getText().isEmpty()) {</span>
<span class="fc" id="L621">   			textAreaConsole.setText(&quot;Your input is empty. Please enter again.&quot;);</span>
<span class="fc" id="L622">   			return;</span>
   		}
<span class="fc" id="L624">   		int iYob = Integer.parseInt(textfieldYearT5.getText());</span>
<span class="pc bpc" id="L625" title="1 of 4 branches missed.">   		if(iYob &lt; 1880 || iYob &gt; 2019) {</span>
<span class="fc" id="L626">   			textAreaConsole.setText(&quot;Input \&quot;Year of Birth\&quot; Out Of Range\nPlease enter your Year of Birth within 1880 - 2019 again.&quot;);</span>
<span class="fc" id="L627">   			return;</span>
   		}
<span class="fc bfc" id="L629" title="All 2 branches covered.">   		boolean oPrefer = radiobuttonYT5.isSelected() ? true : false; //1 = younger; 0 = older</span>
<span class="fc bfc" id="L630" title="All 2 branches covered.">   		String oPre = oPrefer ? &quot;younger&quot; : &quot;older&quot;;</span>
<span class="fc" id="L631">   		int oRank = AnalyzeNames.getRank(iYob, iName, iGender);</span>
<span class="fc" id="L632">   		Zodiac iZodiac = AnalyzeNames.getIZodiac(iYob);</span>
<span class="fc" id="L633">   		Zodiac oZodiac = AnalyzeNames.getOZodiac(iZodiac);</span>
<span class="fc" id="L634">   		int oYob = AnalyzeNames.getOYob(iYob, iZodiac, oZodiac, oPrefer);</span>
<span class="fc bfc" id="L635" title="All 2 branches covered.">   		if(oYob == 0) {</span>
<span class="fc" id="L636">   			textAreaConsole.setText(&quot;Opps! Your prefered soulmate seems will be born out of our range(1880-2019).\nSorry we cannot help you this time. Please try again with another age preference.&quot;);</span>
<span class="fc" id="L637">   			return;</span>
   		}
<span class="pc bpc" id="L639" title="1 of 2 branches missed.">   		if(oRank != -1) {</span>
<span class="fc" id="L640">	   		oReport += String.format(&quot;Step1: Find your Zodical Animal\nIn the year %d, the rank of your name %s of gender %s is %d.\n-&gt; Your Zodical Animal is %s.\n\n&quot;</span>
									   				+ &quot;Step2: Find your soulmate's Zodical Animal\nAccording to the Chinese Zodiac Compatible Table,\n-&gt; Your soulmate's Zodical Animal is %s.\n\n&quot;, 
<span class="fc" id="L642">									   				iYob, iName, iGender, oRank, iZodiac, oZodiac);</span>
   		}
   		else {
<span class="nc" id="L645">   			Random rand = new Random(); </span>
<span class="nc" id="L646">   			oRank = rand.nextInt(100);</span>
<span class="nc" id="L647">   			oReport += String.format(&quot;Step1: Find your Zodical Animal\nIn the year %d, your name %s of gender %s is not found.\nSo we will randomly generate a rank for you. Your rank is %d.\n-&gt; Your Zodical Animal is %s.\n\n&quot;</span>
	   				+ &quot;Step2: Find your soulmate's Zodical Animal\nAccording to the Chinese Zodiac Compatible Table,\n-&gt; Your soulmate's Zodical Animal is %s.\n\n&quot;, 
<span class="nc" id="L649">	   				iYob, iName, iGender, oRank, iZodiac, oZodiac);</span>
   		}
<span class="fc" id="L651">   		String oName = AnalyzeNames.getName(oYob, oRank, oGender);</span>
<span class="fc bfc" id="L652" title="All 2 branches covered.">   		if(oPre == &quot;younger&quot;)</span>
<span class="fc" id="L653">   			oReport += String.format(&quot;Step3: Find your soulmate's Year of Birth\nYou prefer a soulmate of gender %s %s than you.\n-&gt; The closest %s year bigger than %d would be %d.\n\n&quot;, oGen, oPre, oZodiac, iYob, oYob);</span>
   		else
<span class="fc" id="L655">   			oReport += String.format(&quot;Step3: Find your soulmate's Year of Birth\nYou prefer a soulmate of gender %s %s than you.\n-&gt; The closest %s year smaller than %d would be %d.\n\n&quot;, oGen, oPre, oZodiac, iYob, oYob);</span>
<span class="fc bfc" id="L656" title="All 2 branches covered.">   		if(oName != &quot;information on the name at the specified rank is not available&quot;) {</span>
<span class="fc" id="L657">	   		oReport += String.format(&quot;Step4: Find your soulmate's Name\n-&gt; In %d, rank %d of gender %s is called %s.\n\n[Result] Your soulmate should be a %d-years-old %s called %s!&quot;,oYob, oRank, oGen, oName, 2020-oYob, oGen, oName);</span>
   		}
   		else {
<span class="fc" id="L660">   			oReport += String.format(&quot;Step4: Find your soulmate's Name\nSince rank %d of gender %s doesn't exist.\nWe will suggest the top rank name for this time.\n-&gt; The top rank name in %d of gender %s is called %s.\n\n[Result] Your soulmate should be a %d-years-old %s called %s&quot;, </span>
<span class="fc" id="L661">   					oRank, oGen, oYob, oGen, AnalyzeNames.getName(oYob, 1, oGender), 2020-oYob, oGen, AnalyzeNames.getName(oYob, 1, oGender));</span>
   		}
<span class="fc" id="L663">   		textAreaConsole.setText(oReport);</span>
<span class="fc" id="L664">	}</span>
	
	/**  Task 6
	 *  To be triggered by the &quot;Check Compatibility&quot; button on the Task 6 Tab
	 *  
	 */
	@FXML
	void doTask6(){
		
<span class="fc" id="L673">		String oReport = &quot;&quot;;		</span>
<span class="fc" id="L674">		String name = &quot;&quot;;</span>
<span class="fc" id="L675">		int year_of_birth = 0;</span>
<span class="fc" id="L676">		String pref_name = &quot;&quot;;</span>
<span class="fc" id="L677">		String gender = &quot;&quot;;</span>
<span class="fc" id="L678">		String pref_gender = &quot;&quot;;</span>
<span class="fc" id="L679">		String pref_age = &quot;&quot;;</span>

<span class="pc bpc" id="L681" title="2 of 4 branches missed.">		if (tfNameA3.getText().isBlank() || tfPref_NameA3.getText().isBlank()</span>
<span class="pc bpc" id="L682" title="1 of 2 branches missed.">				|| tfyobA3.getText().isBlank()) {</span>
<span class="nc" id="L683">			oReport += &quot;Error: Please fill in all inputs.\n&quot;;</span>
<span class="nc" id="L684">			textAreaConsole.setText(oReport);</span>
<span class="nc" id="L685">			return ;</span>
		}

<span class="fc" id="L688">		name = tfNameA3.getText();</span>
<span class="fc" id="L689">		pref_name = tfPref_NameA3.getText();</span>
<span class="fc" id="L690">		year_of_birth = Integer.parseInt(tfyobA3.getText());</span>
		
<span class="pc bpc" id="L692" title="1 of 2 branches missed.">		if (rbMaleA3.isSelected()) {</span>
<span class="fc" id="L693">			gender = &quot;M&quot;;</span>
		} else {
<span class="nc" id="L695">			gender = &quot;F&quot;;</span>
		}
<span class="pc bpc" id="L697" title="1 of 2 branches missed.">		if (rbPref_MaleA3.isSelected()) {</span>
<span class="fc" id="L698">			pref_gender = &quot;M&quot;;</span>
		} else {
<span class="nc" id="L700">			pref_gender = &quot;F&quot;;</span>
		}
<span class="pc bpc" id="L702" title="1 of 2 branches missed.">		if (rbYoungerA3.isSelected()) {</span>
<span class="fc" id="L703">			pref_age = &quot;Y&quot;;</span>
		} else {
<span class="nc" id="L705">			pref_age = &quot;O&quot;;</span>
		}
<span class="pc bpc" id="L707" title="2 of 4 branches missed.">		if (year_of_birth &lt; 1880 || year_of_birth &gt; 2019) {</span>
<span class="nc" id="L708">			oReport += &quot;Error: Year of birth is out of range, please enter a value between 1880-2019 inclusively.\n&quot;;</span>
<span class="nc" id="L709">			textAreaConsole.setText(oReport);</span>
<span class="nc" id="L710">			return;</span>
		}
<span class="fc" id="L712">		oReport = AnalyzeNames.getReport6(name, gender, year_of_birth, pref_name, pref_gender, pref_age);		   </span>
<span class="fc" id="L713">		textAreaConsole.setText(oReport);</span>

<span class="fc" id="L715">	}</span>
}

</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.5.201910111838</span></div></body></html>